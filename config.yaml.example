# WhisperLive Typer Configuration
# Location: ~/.config/whisper-typer/config.yaml

server:
  host: localhost
  port: 9090

whisper:
  language: en
  model: small  # tiny, base, small, medium, large

audio:
  # Microphone device - index number or name substring (e.g., "C930e" or "4")
  # Run: ./whisper_typer.py --list-devices
  # Leave empty for system default
  device: ""

vad:
  # Voice Activity Detection thresholds (0.0 - 1.0)
  # Calibrate with: scripts/vad_calibrate.py --auto
  # Lower = more sensitive (may trigger on noise)
  # Higher = less sensitive (may miss quiet speech)
  onset: 0.3
  offset: 0.2
  # Filter pending/finalized segments with high "no speech" probability.
  # Lower values reduce silence hallucinations but can drop quiet words.
  no_speech_thresh: 0.45
  # Filter low-confidence segments by average log probability.
  # Higher values reduce hallucinations but can drop uncertain speech.
  min_avg_logprob: -0.8

typer:
  # Debounce partial updates to reduce retyping churn.
  pending_debounce_ms: 200
  # Linux ydotool timing (increase if keys are dropped or reordered).
  ydotool_key_delay_ms: 8
  ydotool_key_hold_ms: 4

# Voice commands - map phrases to actions
#
# Built-in (always available):
#   "say <text>" - type literally: "say enter" types "enter"
#   "<modifier> <key>" - key combo: "control c", "alt f4", "shift enter"
#   "<action key>" - send key: "enter", "backspace", "tab", "escape"
#   "<punctuation>" - type symbol: "semicolon" -> ;, "colon" -> :
#
# Punctuation names: hyphen, underscore, semicolon, colon, comma, period,
#   forward slash, backslash, apostrophe, double quote, backtick, tilde,
#   at sign, hash sign, dollar sign, percent sign, ampersand, asterisk,
#   left/right paren, left/right bracket, left/right brace,
#   less than, greater than, question mark, exclamation point
#
commands:
  # Keyboard shortcuts
  keys:
    "scratch that": "ctrl+z"
    "undo": "ctrl+z"
    "undo that": "ctrl+z"
    "redo": "ctrl+shift+z"
    "redo that": "ctrl+shift+z"
    "new line": "enter"
    "newline": "enter"
    "new paragraph": "enter enter"
    "go back": "backspace"
    "delete word": "ctrl+backspace"
    "delete line": "ctrl+shift+k"
    "select all": "ctrl+a"
    "copy": "ctrl+c"
    "copy that": "ctrl+c"
    "paste": "ctrl+v"
    "paste that": "ctrl+v"
    "cut": "ctrl+x"
    "cut that": "ctrl+x"
    "save": "ctrl+s"
    "save that": "ctrl+s"
    # Add your own:
    # "close tab": "ctrl+w"
    # "new tab": "ctrl+t"

  # Literal text strings
  literals:
    # "smiley face": ":)"
    # "shrug": "¯\\_(ツ)_/¯"
    # "my email": "you@example.com"
